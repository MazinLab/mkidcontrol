{% extends 'base.html' %}

{% block content %}
<!--    <h1>-->
<!--        <div><p>PICTURE-C</p></div>-->
<!--    </h1>-->
    <head>
<!--        <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>-->
        <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
        <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    </head>

    <form>

<!--    <div style="width:1500px">-->
<!--    <div style="float:left; width:1000px; height:500px">-->
<!--        <div id="device-temp" style="float:left;width:450px;height:450px"></div>-->
<!--        <script>-->
<!--            function init_device_temp() {-->
<!--                var time = 0;-->
<!--                var temp = 0;-->

<!--                $.ajax({-->
<!--                    url: '/device_t',-->
<!--                    type: 'post',-->
<!--                    async: false,-->
<!--                    success: function(response) {-->
<!--                        time = response['times']-->
<!--                        temp = response['temps']-->
<!--                    },-->
<!--                    error: function() {-->
<!--                        time = -1-->
<!--                        temp = -1-->
<!--                    }-->
<!--                });-->

<!--                var trace0 = {-->
<!--                    x: [time],-->
<!--                    y: [temp],-->
<!--                    name: 'Device T',-->
<!--                    mode: 'line'-->
<!--                };-->
<!--                console.log(time, temp)-->
<!--                var data = [trace0];-->
<!--                return data;-->
<!--            }-->

<!--            function grabdevicetemp() {-->
<!--                var time = [];-->
<!--                var temp = [];-->
<!--                $.ajax({-->
<!--                    url: '/device_t',-->
<!--                    type: 'post',-->
<!--                    async: false,-->
<!--                    success: function(response) {-->
<!--                        time = response['times']-->
<!--                        temp = response['temps']-->
<!--                    },-->
<!--                    error: function() {-->
<!--                        time = [-1]-->
<!--                        temp = [-1]-->
<!--                    }-->
<!--                });-->
<!--                console.log(time, temp)-->
<!--                return [[time], [temp]];-->
<!--            }-->

<!--            var tank_data = init_device_temp()-->
<!--            var layout = {-->
<!--                title:'Device T'-->
<!--            };-->

<!--            Plotly.newPlot('device-temp', tank_data, layout);-->

<!--            var interval = setInterval(function () {-->
<!--                var new_data = grabdevicetemp();-->
<!--                Plotly.extendTraces('device-temp', {-->
<!--                    x: [new_data[0]],-->
<!--                    y: [new_data[1]]-->
<!--                }, [0])-->
<!--            }, 10000);-->
<!--        </script>-->

<!--        <div id="magnet-current" style="float:left;width:450px;height:450px"></div>-->
<!--        <script>-->
<!--            function init_current() {-->
<!--                var time = 0;-->
<!--                var current = 0;-->

<!--                $.ajax({-->
<!--                    url: '/magnet_current',-->
<!--                    type: 'post',-->
<!--                    async: false,-->
<!--                    success: function(response) {-->
<!--                        time = response['times']-->
<!--                        current = response['currents']-->
<!--                    },-->
<!--                    error: function() {-->
<!--                        time = -1-->
<!--                        current = -1-->
<!--                    }-->
<!--                });-->

<!--                var trace0 = {-->
<!--                    x: [time],-->
<!--                    y: [current],-->
<!--                    name: 'Magnet Current',-->
<!--                    mode: 'line'-->
<!--                };-->
<!--                console.log(time, current)-->
<!--                var data = [trace0];-->
<!--                return data;-->
<!--            }-->

<!--            function grabcurrent() {-->
<!--                var time = [];-->
<!--                var currents = [];-->
<!--                $.ajax({-->
<!--                    url: '/magnet_current',-->
<!--                    type: 'post',-->
<!--                    async: false,-->
<!--                    success: function(response) {-->
<!--                        time = response['times']-->
<!--                        currents = response['currents']-->
<!--                    },-->
<!--                    error: function() {-->
<!--                        time = [-1]-->
<!--                        currents = [-1]-->
<!--                    }-->
<!--                });-->
<!--                console.log(time, currents)-->
<!--                return [[time], [currents]];-->
<!--            }-->

<!--            var tank_data = init_current()-->
<!--            var layout = {-->
<!--                title:'Magnet Current'-->
<!--            };-->

<!--            Plotly.newPlot('magnet-current', tank_data, layout);-->

<!--            var interval = setInterval(function () {-->
<!--                var new_data = grabcurrent();-->
<!--                Plotly.extendTraces('magnet-current', {-->
<!--                    x: [new_data[0]],-->
<!--                    y: [new_data[1]]-->
<!--                }, [0])-->
<!--            }, 10000);-->
<!--        </script>-->
<!--    </div>-->

{% endblock %}